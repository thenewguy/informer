box: wercker/python
build:
    steps:
        - pip-install:
            requirements_file: "container/requirements.txt"

        - script:
            name: run unit tests
            code: py.test

        - script:
            name: build
            code: python setup.py sdist bdist_wheel

deploy:
    steps:
        - pip-install:
            requirements_file: "container/requirements.txt"
        - script:
            name: deploy
            code: twine upload -u $PYPI_USER -p $PYPI_PASSWORD dist/*
